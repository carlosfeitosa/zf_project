<?php
// percorre as variáveis e objetos contidas na view
foreach ($this->getVars() as $key => $value){
	
	if (is_array($value)) {
		
		foreach ($value as $chave => $conteudo){
				// verifica se existe objetos do tipo formulário na view
			if (is_object($conteudo) and is_subclass_of($conteudo, 'Zend_Form')) {
		
				// carregando o form na view
				echo $conteudo;
			
				// setando o foco para o primeiro elemento do formulario
				echo Basico_OPController_UtilOPController::setaFocusElementoFormularioViaDojoJavaScript(Basico_OPController_UtilOPController::retornaNomePrimeiroElementoFormulario($this->form));
			
				// recuperando o tipo de container que agraga os subformularios do formulario, caso o formulario possuia filhos
				$tipoContainerFormulario = Basico_OPController_UtilOPController::retornaTipoContainerFormulario($conteudo);
			
				// verificando se eh preciso setar funcao para setar focus
				if ($tipoContainerFormulario) {
					// setando funcao para setar o focus para o primeiro elemento de uma aba selecionada, para um formulario com subformularios
					echo Basico_OPController_UtilOPController::setaFocusPrimeiroElementoFormularioEmSelectChildFormularioComAbasViaDojoJavaScript($conteudo->getName(), $tipoContainerFormulario);
				}
			} else {
				echo $conteudo;
			}		
		}
	} else {
		echo $value;
	}	
}